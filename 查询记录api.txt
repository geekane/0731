lark
客户案例
开发文档
更新日志
应用中心
开发者广场
智能助手
你可以输入文档关键词、开发问题、Log ID、错误码
搜索目录
API 调用指南
事件与回调
服务端 SDK
认证及授权
通讯录
组织架构
消息
群组
飞书卡片
消息流
企业自定义群标签
云文档
云文档概述
云文档常见问题
云空间
知识库
文档
电子表格
多维表格
多维表格概述
多维表格常见问题
数据结构概述
多维表格
数据表
视图
记录
多维表格记录数据结构
记录筛选参数填写说明
多维表格中添加子记录
新增记录
更新记录
查询记录
删除记录
新增多条记录
更新多条记录
批量获取记录
删除多条记录
字段
仪表盘
表单
高级权限
自动化流程
事件
画板
权限
评论
云文档助手
通用
日历
视频会议
妙记
考勤打卡
审批
机器人
服务台
任务
邮箱
应用信息
企业信息
认证信息
个人设置
搜索
AI 能力
飞书 aPaaS
飞书 Aily
管理后台
公司圈
飞书人事（标准版）
飞书人事（企业版）
Payroll
招聘
OKR
实名认证
智能门禁
绩效
飞书词典
安全合规
关联组织
工作台
飞书主数据
汇报
eLearning
历史版本（不推荐）
服务端 API云文档多维表格记录查询记录
查询记录
最后更新于 2025-05-08
该接口用于查询数据表中的现有记录，单次最多查询 500 行记录，支持分页获取。
尝试一下

注意事项
若多维表格开启了高级权限，你需确保调用身份拥有多维表格的可管理权限，否则可能出现调用成功但返回数据为空的情况。了解具体步骤，参考如何为应用或用户开通文档权限。

请求
基本	
HTTP URL	
https://open.feishu.cn/open-apis/bitable/v1/apps/:app_token/tables/:table_id/records/search

HTTP Method	
POST

接口频率限制	
20 次/秒

支持的应用类型	
自建应用
商店应用

权限要求 
开启任一权限即可
根据条件搜索记录
查看、评论、编辑和管理多维表格
查看、评论和导出多维表格
字段权限要求	
该接口返回体中存在下列敏感字段，仅当开启对应的权限后才会返回；如果无需获取这些字段，则不建议申请
获取用户基本信息
获取用户 user ID
仅自建应用
以应用身份访问通讯录
历史版本
读取通讯录
历史版本
以应用身份读取通讯录
历史版本
请求头
名称	类型	必填	描述
Authorization

string

是

应用调用 API 时，需要通过访问凭证（access_token）进行身份鉴权，不同类型的访问凭证可获取的数据范围不同，参考 选择并获取访问凭证 。

值格式："Bearer access_token"

可选值如下：

tenant_access_token
以应用身份调用 API，可读写的数据范围由应用自身的 数据权限范围决定。参考 自建应用获取 tenant_access_token 或 商店应用获取 tenant_access_token 。示例值："Bearer t-g1044qeGEDXTB6NDJOGV4JQCYDGHRBARFTGT1234"

user_access_token
以登录用户身份调用 API，可读写的数据范围由用户可读写的数据范围决定。参考 获取 user_access_token。示例值："Bearer u-cjz1eKCEx289x1TXEiQJqAh5171B4gDHPq00l0GE1234"

Content-Type

string

是

固定值："application/json; charset=utf-8"

路径参数
名称
类型
描述
app_token

string

多维表格 App 的唯一标识。不同形态的多维表格，其 app_token 的获取方式不同：

如果多维表格的 URL 以 feishu.cn/base 开头，该多维表格的 app_token 是下图高亮部分：app_token.png

如果多维表格的 URL 以 feishu.cn/wiki 开头，你需调用知识库相关获取知识空间节点信息接口获取多维表格的 app_token。当 obj_type 的值为 bitable 时，obj_token 字段的值才是多维表格的 app_token。

了解更多，参考多维表格 app_token 获取方式。

示例值："NQRxbRkBMa6OnZsjtERcxhNWnNh"

数据校验规则：

长度范围：0 字符 ～ 100 字符
table_id

string

多维表格数据表的唯一标识。获取方式：

你可通过多维表格 URL 获取 table_id，下图高亮部分即为当前数据表的 table_id

也可通过列出数据表接口获取 table_id



示例值："tbl0xe5g8PP3U3cS"

数据校验规则：

长度范围：0 字符 ～ 50 字符
查询参数
名称
类型
必填
描述
user_id_type

string

否

用户 ID 类型

示例值："open_id"

可选值有：

open_id：标识一个用户在某个应用中的身份。同一个用户在不同应用中的 Open ID 不同。了解更多：如何获取 Open ID
union_id：标识一个用户在某个应用开发商下的身份。同一用户在同一开发商下的应用中的 Union ID 是相同的，在不同开发商下的应用中的 Union ID 是不同的。通过 Union ID，应用开发商可以把同个用户在多个应用中的身份关联起来。了解更多：如何获取 Union ID？
user_id：标识一个用户在某个租户内的身份。同一个用户在租户 A 和租户 B 内的 User ID 是不同的。在同一个租户内，一个用户的 User ID 在所有应用（包括商店应用）中都保持一致。User ID 主要用于在不同的应用间打通用户数据。了解更多：如何获取 User ID？
默认值：open_id

当值为 user_id，字段权限要求：

获取用户 user ID
仅自建应用
page_token

string

否

分页标记，第一次请求不填，表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page_token，下次遍历可采用该 page_token 获取查询结果

示例值："eVQrYzJBNDNONlk4VFZBZVlSdzlKdFJ4bVVHVExENDNKVHoxaVdiVnViQT0="

page_size

int

否

分页大小。最大值为 500

示例值：10

默认值：20

请求体
名称
类型
必填
描述
view_id

string

否

多维表格中视图的唯一标识。获取方式：

在多维表格的 URL 地址栏中，view_id 是下图中高亮部分：view_id.png
通过列出视图接口获取。暂时无法获取到嵌入到云文档中的多维表格的 view_id。
注意：当 filter 参数 或 sort 参数不为空时，请求视为对数据表中的全部数据做条件过滤，指定的 view_id 会被忽略。

示例值："vewqhz51lk"

数据校验规则：

长度范围：0 字符 ～ 50 字符
field_names

string[]

否

字段名称，用于指定本次查询返回记录中包含的字段

示例值：["字段1","字段2"]

数据校验规则：

长度范围：0 ～ 200
sort

sort[]

否

排序条件

数据校验规则：

长度范围：0 ～ 100
filter

filter_info

否

包含条件筛选信息的对象。了解 filter 填写指南和使用示例（如怎样同时使用 and 和 or 逻辑链接词），参考记录筛选参数填写指南。

automatic_fields

boolean

否

是否自动计算并返回创建时间（created_time）、修改时间（last_modified_time）、创建人（created_by）、修改人（last_modified_by）这四类字段。默认为 false，表示不返回。

示例值：false

请求示例
以下为固定的代码示例。如需根据实际场景调整请求参数，可打开  输入参数后生成相应的示例代码 
cURL
Go SDK
Python SDK
Java SDK
Node SDK
Php - Guzzle
C# - Restsharp
123456789101112
// node-sdk使用说明：https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/server-side-sdk/nodejs-sdk/preparation-before-development
// 以下示例代码默认根据文档示例值填充，如果存在代码问题，请在 API 调试台填上相关必要参数后再复制代码使用
const lark = require('@larksuiteoapi/node-sdk');

// 开发者复制该Demo后，需要修改Demo里面的"app id", "app secret"为自己应用的appId, appSecret
const client = new lark.Client({
    appId: 'app id',
    appSecret: 'app secret',

响应
响应体
名称
类型
描述
code

int

错误码，非 0 表示失败

msg

string

错误描述

data

-

-

响应体示例
1234567891011121314151617181920
{
    "code":0,
    "data":{
        "has_more":false,
        "items":[
            {
                "created_by":{
                    "avatar_url":"https://internal-api-lark-file.feishu.cn/static-resource/v1/06d568cb-f464-4c2e-bd03-76512c545c5j~?image_size=72x72&amp;cut_type=default-face&amp;quality=&amp;format=jpeg&amp;sticker_format=.webp",
                    "email":"",
                    "en_name":"测试1",

错误码
HTTP状态码	错误码	描述	排查建议
200

1254000

WrongRequestJson

请求体错误

200

1254001

WrongRequestBody

请求体错误

200

1254002

Fail

导致报 1254002 错误码的场景较多，请参考以下建议排查：

如果单次操作的内容变更较大，请尝试在单次操作中减少数据量
如果你并发调用了接口，请尝试控制请求间隔，稍后重试
如果在知识库（wiki）中创建多维表格，请检查你是否使用了知识库创建知识空间节点接口创建多维表格。在此场景下不能使用创建多维表格接口
请检查接口参数是否有误。例如，在分页查询多维表格时，传递了无效的 page_token，或传递了错误的数据表的 table_id
如果该报错偶尔发生，可能是服务器超时或不稳定，请重试解决
200

1254003

WrongBaseToken

app_token 错误。app_token 是多维表格 App 的唯一标识。不同形态的多维表格，其 app_token 的获取方式不同：

如果多维表格的 URL 以 feishu.cn/base 开头，该多维表格的 app_token 是下图高亮部分：app_token.png

如果多维表格的 URL 以 feishu.cn/wiki 开头，你需调用知识库相关获取知识空间节点信息接口获取多维表格的 app_token。当 obj_type 的值为 bitable 时，obj_token 字段的值才是多维表格的 app_token。

了解更多，参考多维表格 app_token 获取方式。

200

1254004

WrongTableId

table_id 错误。table_id 是多维表格数据表的唯一标识。获取方式：

你可通过多维表格 URL 获取 table_id，下图高亮部分即为当前数据表的 table_id

也可通过列出数据表接口获取 table_id



200

1254005

WrongViewId

view_id 错误。view_id 是多维表格中视图的唯一标识。获取方式：

在多维表格的 URL 地址栏中，view_id 是下图中高亮部分：view_id.png
通过列出视图接口获取。暂时无法获取到嵌入到云文档中的多维表格的 view_id。
注意：当 filter 参数 或 sort 参数不为空时，请求视为对数据表中的全部数据做条件过滤，指定的 view_id 会被忽略。

200

1254006

WrongRecordId

record_id 错误。record_id 是数据表中一条记录的唯一标识。通过查询记录接口获取

200

1254007

EmptyValue

空值

200

1254008

EmptyView

空视图

200

1254009

WrongFieldId

field_id 错误。field_id 是数据表中一个字段的唯一标识。通过列出字段接口获取

200

1254010

ReqConvError

请求错误

400

1254011

Page size must greater than 0.

page_size参数非法

200

1254016

InvalidSort

排序条件 Sort 参数错误

200

1254018

InvalidFilter

filter 参数错误。请参考记录过滤参数填写指南了解如何填写 filter 参数。

200

1254024

InvalidFieldNames

field_names 参数错误。请检查接口中字段名称和多维表格中的字段名称是否完全匹配。如果难以排查，建议你调用列出字段接口获取字段名称，因为根据表格页面的 UI 名称可能会忽略空格、换行或特殊符号等差异

200

1254030

TooLargeResponse

响应体过大

400

1254036

Bitable is copying, please try again later.

复制多维表格为异步操作，该错误码表示当前多维表格仍在复制中，在复制期间无法操作当前多维表格。需要等待复制完成后再操作

200

1254040

BaseTokenNotFound

app_token 不存在。不同形态的多维表格，其 app_token 的获取方式不同：

如果多维表格的 URL 以 feishu.cn/base 开头，该多维表格的 app_token 是下图高亮部分：app_token.png

如果多维表格的 URL 以 feishu.cn/wiki 开头，你需调用知识库相关获取知识空间节点信息接口获取多维表格的 app_token。当 obj_type 的值为 bitable 时，obj_token 字段的值才是多维表格的 app_token。

了解更多，参考多维表格 app_token 获取方式。

200

1254041

TableIdNotFound

table_id 不存在。获取方式：

你可通过多维表格 URL 获取 table_id，下图高亮部分即为当前数据表的 table_id

也可通过列出数据表接口获取 table_id



200

1254042

ViewIdNotFound

view_id 不存在。获取方式：

在多维表格的 URL 地址栏中，view_id 是下图中高亮部分：view_id.png
通过列出视图接口获取。暂时无法获取到嵌入到云文档中的多维表格的 view_id。
注意：当 filter 参数 或 sort 参数不为空时，请求视为对数据表中的全部数据做条件过滤，指定的 view_id 会被忽略。

200

1254043

RecordIdNotFound

record_id 不存在。record_id 是数据表中一条记录的唯一标识。请通过查询记录接口获取

200

1254044

FieldIdNotFound

field_id 不存在。field_id 是数据表中一个字段的唯一标识。通过列出字段接口获取。

200

1254045

FieldNameNotFound

字段名称不存在。请检查：

接口中字段名称和多维表格中的字段名称是否完全匹配。如果难以排查，建议你调用列出字段接口获取字段名称，因为根据表格页面的 UI 名称可能会忽略空格、换行或特殊符号等差异。
表格是否开启了高级权限但调用身份缺少对应字段的权限。你需要为调用身份授予高级权限：
对用户授予高级权限，你需要在多维表格页面右上方 分享 入口为当前用户添加可管理权限。image.png

对应用授予高级权限，你需通过多维表格页面右上方 「...」 -> 「...更多」 ->「添加文档应用」 入口为应用添加可管理权限。



image.png注意：在 添加文档应用 前，你需确保目标应用至少开通了一个多维表格的 API 权限。否则你将无法在文档应用窗口搜索到目标应用。

你也可以在 多维表格高级权限设置 中添加用户或一个包含应用的群组, 给予这个群自定义的读写等权限。

200

1254060

TextFieldConvFail

多行文本字段错误

200

1254061

NumberFieldConvFail

数字字段错误

200

1254062

SingleSelectFieldConvFail

单选字段错误

200

1254063

MultiSelectFieldConvFail

多选字段错误

200

1254064

DatetimeFieldConvFail

日期字段错误

200

1254065

CheckboxFieldConvFail

复选框字段错误

200

1254066

UserFieldConvFail

人员字段有误。原因可能是：

user_id_type 参数指定的 ID 类型与传入的 ID 类型不匹配
传入了不识别的类型或结构，目前只支持填写 id 参数，且需要传入数组
跨应用传入了 open_id。如果跨应用传入 ID，建议使用 user_id。不同应用获取的 open_id 不能交叉使用
若想对人员字段传空，可传 null
200

1254067

LinkFieldConvFail

关联字段错误

200

1254068

URLFieldConvFail

超链接字段错误

200

1254069

AttachFieldConvFail

附件字段错误

200

1254072

Failed to convert phone field, please make sure it is correct.

电话字段错误

200

1254100

TableExceedLimit

数据表或仪表盘数量超限。每个多维表格中，数据表加仪表盘的数量最多为 100 个

200

1254101

ViewExceedLimit

视图数量超限, 限制200个

200

1254102

FileExceedLimit

文件数量超限

200

1254103

RecordExceedLimit

记录数量超限, 限制20,000条

200

1254104

RecordAddOnceExceedLimit

单次添加记录数量超限, 单次调用最多更新 1,000 条记录

200

1254107

FilterLengthExceedLimit

Filter长度超限, 限制2,000个字符

200

1254108

SortLengthExceedLimit

Sort长度超限, 限制1,000个字符

200

1254109

FormulaTableSizeExceedLimit

公式表大小超限

200

1254130

TooLargeCell

格子内容过大

200

1254290

TooManyRequest

请求过快，稍后重试

200

1254291

Write conflict

在同一个数据表中，并发调用了读写接口或请求过快，出现冲突。请参考以下建议解决：

确保没有并发调用多维表格读写相关接口
若操作量较大，建议在接口与接口之间增加 0.5 或 1 秒的延迟，也可在报错中增加重试逻辑，确保业务的稳定性
对于写接口，可以将接口中的查询参数 ignore_consistency_check 设置为 true，表示在读写操作时，暂时忽略一致性检查，以提高性能
200

1254301

OperationTypeError

多维表格未开启高级权限或不支持开启高级权限

200

1254302

Permission denied.

调用身份缺少多维表格的高级权限。你需给予调用身份数据表的 可管理 权限或多维表格的 可管理 等权限，再重新调用。具体步骤如下所示：

对用户授予高级权限，你可在 多维表格高级权限设置 中添加用户，为用户开通足够权限；或在多维表格页面右上方 分享 入口为当前用户添加可管理权限。详情参考飞书帮助中心文档使用多维表格高级权限。



对应用授予高级权限，你需通过多维表格页面右上方 「...」 -> 「...更多」 ->「添加文档应用」 入口为应用添加可管理权限。





注意：在 添加文档应用 前，你需确保目标应用至少开通了一个多维表格的 API 权限。否则你将无法在文档应用窗口搜索到目标应用。

你也可以在 多维表格高级权限设置 中添加用户或一个包含应用的群组，给予这个群自定义的读写等权限。

200

1254303

AttachPermNotAllow

附件无权限

200

1255001

InternalError

内部错误，请联系技术支持

200

1255002

RpcError

内部错误，请联系技术支持

200

1255003

MarshalError

序列化错误，请联系技术支持

200

1255004

UmMarshalError

反序列化错误

200

1255005

ConvError

内部错误，请联系技术支持

504

1255040

Request timed out, please try again later

请求超时，进行重试

400

1254607

Data not ready, please try again later

该报错一般是由于前置操作未执行完成，或本次操作数据太大，服务器计算超时导致。遇到该错误码时，建议等待一段时间后重试。通常有以下几种原因：

编辑操作频繁：开发者对多维表格的编辑操作非常频繁。可能会导致由于等待前置操作处理完成耗时过长而超时的情况。多维表格底层对数据表的处理基于版本维度的串行方式，不支持并发。因此，并发请求时容易出现此类错误，不建议开发者对单个数据表进行并发请求。

批量操作负载重：开发者在多维表格中进行批量新增、删除等操作时，如果数据表的数据量非常大，可能会导致单次请求耗时过长，最终导致请求超时。建议开发者适当降低批量请求的 page_size 以减少请求耗时。

资源分配与计算开销：资源分配是基于单文档维度的，如果读接口涉及公式计算、排序等计算逻辑，会占用较多资源。例如，并发读取一个文档下的多个数据表也可能导致该文档阻塞。

相关问题
如何为应用开通多维表格权限？
如何在多维表格中新增带有附件的记录？
多维表格中的筛选参数 filter 怎么填写？
如何下载多维表格记录中的附件？
如何筛选人员字段？
遇到其他问题？问问
开放平台智能助手
上一篇：更新记录
下一篇：删除记录

测试
机器人
请求头
Authorization
*
Bearer
u-eMyAKHh_V3QF324AriYGI6553yt5l4Epgww0l0A80JC3
user_access_token
鉴权参数已过期
路径参数
app_token
*
示例值："NQRxbRkBMa6OnZsjtERcxhNWnNh"
table_id
*
示例值："tbl0xe5g8PP3U3cS"
查询参数
user_id_type
page_token
page_size
20
请求体
JSON
1234567891011121314151617181920
{
  "view_id": "vewqhz51lk",
  "field_names": [
    "字段1",
    "字段2"
  ],
  "sort": [
    {
      "field_name": "多行文本",
      "desc": true

调试结果

点击“开始调试”查看结果
技术支持
收起
展开


